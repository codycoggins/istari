# Istari — Environment Variables
# Copy to .env and fill in values

# ── Database ──────────────────────────────────────────
POSTGRES_USER=istari
POSTGRES_PASSWORD=changeme
POSTGRES_DB=istari
# Note: Pydantic Settings does NOT expand ${VAR} — use literal values here
DATABASE_URL=postgresql+asyncpg://istari:changeme@localhost:5432/istari

# ── LLM APIs ─────────────────────────────────────────
# Anthropic (Claude) — paid tier for high-stakes reasoning
ANTHROPIC_API_KEY=

# Google AI (Gemini) — free tier for mid-complexity tasks
GOOGLE_API_KEY=

# OpenAI — use model names like openai/gpt-4o, openai/gpt-4o-mini in llm_routing.yml
OPENAI_API_KEY=

# Ollama — local models (no key needed, just the base URL)
OLLAMA_BASE_URL=http://localhost:11434

# ── Google OAuth2 (Gmail, Calendar) ───────────────────
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ── Application ───────────────────────────────────────
# API service
API_HOST=0.0.0.0
API_PORT=8000

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ── Worker ────────────────────────────────────────────
# Digest schedule (cron expressions)
DIGEST_MORNING_CRON=0 8 * * *
DIGEST_AFTERNOON_CRON=0 14 * * *

# Quiet hours (24h format)
QUIET_HOURS_START=21
QUIET_HOURS_END=7

# ── MCP Servers ───────────────────────────────────────────────────────────────
# GitHub MCP server (set enabled: true in mcp_servers.yml to activate)
GITHUB_TOKEN=

# ── Backups ───────────────────────────────────────────
# Set BACKUP_ENABLED=true and fill in BACKUP_PASSPHRASE to activate.
# BACKUP_DESTINATION_PATH defaults to iCloud Drive on Mac; change for other platforms.
# BACKUP_PG_CONTAINER: Docker container name; set empty to call pg_dump directly.
BACKUP_ENABLED=false
BACKUP_DESTINATION_PATH=~/Library/Mobile Documents/com~apple~CloudDocs/Istari/Backups
BACKUP_PASSPHRASE=
BACKUP_RETENTION_DAYS=7
BACKUP_PG_CONTAINER=istari-postgres-1
